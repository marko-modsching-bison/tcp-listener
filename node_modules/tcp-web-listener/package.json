{
  "name": "tcp-web-listener",
  "description": "Listens to tcp connections on a given port and forwards all the received data to a web client.",
  "version": "0.0.7",
  "license": "MIT",
  "author": "David-Emmanuel Divernois <david-emmanuel.divernois@amadeus.com>",
  "homepage": "https://github.com/AmadeusITGroup/Assistive-Webdriver/tree/master/components/tcp-web-listener",
  "bugs": "https://github.com/AmadeusITGroup/Assistive-Webdriver/issues",
  "repository": {
    "type": "git",
    "url": "https://github.com/AmadeusITGroup/Assistive-Webdriver.git",
    "directory": "components/tcp-web-listener"
  },
  "keywords": [
    "http",
    "tcp",
    "websocket"
  ],
  "files": [
    "tcp-web-listener",
    "src/client",
    "src/server"
  ],
  "bin": "./tcp-web-listener",
  "dependencies": {
    "express": "4.17.3",
    "sockjs": "0.3.24",
    "sockjs-client": "1.6.0",
    "yargs": "17.3.1"
  },
  "devDependencies": {
    "jest": "27.5.1",
    "wait-port": "0.2.9",
    "ws": "8.5.0"
  },
  "scripts": {
    "start": "node tcp-web-listener",
    "test": "jest"
  },
  "readme": "# tcp-web-listener\n\n[![npm](https://img.shields.io/npm/v/tcp-web-listener)](https://www.npmjs.com/package/tcp-web-listener)\n\nSmall server that listens to TCP connections on a given port and forwards all the received data to a web client through [sock.js](https://github.com/sockjs/sockjs-client).\n\n## How to use\n\n- Make sure you have [node.js](https://nodejs.org/) installed.\n\n- Install this package globally with:\n\n```\nnpm install -g tcp-web-listener\n```\n\n- Start the server:\n\n```\ntcp-web-listener\n```\n\nNote that the default TCP port is 4449, and the default HTTP port is 7779, but they can be configured through command line options. It is possible to use `--help` to have the list of available options with their default values.\n\n- Open http://localhost:7779 in your browser.\n\n- Connect to the TCP port with telnet (for example):\n\n```\ntelnet localhost 4449\n```\n\n- Type something in the telnet console and press ENTER. Everything that is sent by telnet through the TCP port is displayed in the browser (line by line).\n\n## Browser API\n\nThe goal of this small server is not only to allow displaying in a small web page what is sent to a TCP port but mainly to provide a simple API to do whatever is useful in a web page when receiving data over a TCP port.\n\nIn your web application, include the following script tag:\n\n```html\n<script src=\"http://localhost:7779/listener.js\"></script>\n```\n\nThen register a function that will be called each time the small server receives a new line on the TCP port:\n\n```js\nvar removeListener = registerLiveListener(function (text) {\n  console.log(text);\n});\n\n// call removeListener() to remove the listener\n```\n\nNote that the name of the register function (`registerLiveListener`) can be configured with the `--register-function` option on the command line.\n\nThere can be only one registered listener at a time. When calling `registerLiveListener`, any previous listener is overridden by the new one.\n\n`registerLiveListener` accepts as a second argument the scope with which the listener (given as the first argument) will be called.\n"
}